<html>
<head>
<title> Access Log</title>


<link rel="stylesheet" type="text/css" href="semantic/semantic.min.css">

  <script src="js/jquery.js"></script>
<script src="semantic/semantic.min.js"></script>
  <style>
  body {
    padding: 1em;
  }
  
  </style>

</head>
<body>
  
<div class="ui text container">
  <div class="ui menu">
    <div class="header item">Door Admin</div>
    <a class="active item" href="access.html">Log</a>
    <a class="item" href="cards.html">Cards</a>
    <a class="item" href="admin.html">Admin</a>
  </div>
  <h1 class="ui dividing header">Access Log</h1>
<div class="ui relaxed divided list accesslog">

  
 
 
</div>
</div>
<script>
$.getJSON( "access.json", function( data ) {
  var items = [];
  $.each( data, function( key, val ) {
  color='';
  badge='';
    if (val.access.result == "Granted"){ color='green'; badge='privacy'; }
    if (val.access.result == "Denied"){ color='red';  badge='remove'; }
    if (val.access.result == "Warning"){ color='orange';  badge='warning'; }
    if (val.access.message != undefined) message = "<div class='detail'>"+  val.access.message +"</div>";
    else message="";
    
    
    items.push( " <div class='item'><i class='large "+badge+" middle aligned icon'></i><div class='content'><div class='ui label'>ID<div class='detail'>"+val.id+"</div></div><div class='ui label'>Site<div class='detail'>"+val.site+"</div></div><a class='ui " + color +" image label'>Access "+ val.access.result +" "+message+"</a></div></div>" );
  });
 
 $(".accesslog").append(items.join(""));

});
</script>
</body>
</html>
